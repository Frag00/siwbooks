<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Registrati a SiwBooks</title>
  <link rel="stylesheet" href="/css/stylesRegister.css" />
</head>
<body class="register-body">
  <nav class="navbar">
    <div class="navbar-container">
      <div class="navbar-brand">
        <h1 class="logo"><strong>SiwBooks</strong></h1>
      </div>
      <div class="navbar-nav">
        <div th:if="${user}" class="user-info">
          <p class="user-name" th:text="${user.nome + ' ' + user.cognome}"></p>
          <p class="user-actions">
            <a href="/logout" class="btn btn-logout">
              <span class="btn-icon">üö™</span>
              Logout
            </a>
          </p>
        </div>
        <div th:unless="${user}" class="auth-buttons">
          <span><a href="/login" class="btn btn-login">Accedi</a></span>
          <span><a href="/register" class="btn btn-register">Registrati</a></span>
        </div>
      </div>
    </div>
  </nav>

  <main class="hero-section">
    <div class="hero-content">
      <h2 class="hero-subtitle">Crea un nuovo account SiwBooks</h2>

      <form th:action="@{/register}" method="post" autocomplete="off" class="register-form">

        <div class="form-group">
          <label for="nome_input">Nome:</label>
          <input type="text" id="nome_input" th:field="${utente.nome}" autocomplete="off" placeholder="Il tuo nome" />
          <span th:if="${#fields.hasErrors('utente.nome')}" th:errors="${utente.nome}" class="error-message"></span>
        </div>

        <div class="form-group">
          <label for="cognome_input">Cognome:</label>
          <input type="text" id="cognome_input" th:field="${utente.cognome}" autocomplete="off" placeholder="Il tuo cognome" />
          <span th:if="${#fields.hasErrors('utente.cognome')}" th:errors="${utente.cognome}" class="error-message"></span>
        </div>

        <div class="form-group">
          <label for="email_input">Email:</label>
          <input type="text" id="email_input" th:field="${utente.email}" autocomplete="off" placeholder="La tua email" />
          <span th:if="${#fields.hasErrors('utente.email')}" th:errors="${utente.email}" class="error-message"></span>
        </div>

        <div class="form-group">
          <label for="username_input">Username:</label>
          <input type="text" id="username_input" th:field="${credentials.username}" autocomplete="off" placeholder="Scegli un username" />
          <span th:if="${#fields.hasErrors('credentials.username')}" th:errors="${credentials.username}" class="error-message"></span>
        </div>

        <div class="form-group">
          <label for="password_input">Password:</label>
          <input type="password" id="password_input" th:field="${credentials.password}" autocomplete="off" minlength="8" placeholder="Crea una password (min. 8 caratteri)" />
          <span th:if="${#fields.hasErrors('credentials.password')}" th:errors="${credentials.password}" class="error-message"></span>
        </div>

        <button type="submit" class="btn btn-submit">
          <span class="btn-icon">‚úÖ</span>
          Registrati
        </button>
      </form>

      <div th:if="${esiste}" class="error-message-large">
        <p th:text="${esiste}"></p>
      </div>

      <p class="login-link">
        Hai gi√† un account? <a th:href="@{/login}">Accedi qui</a>
      </p>

      <p class="mt-4">
        <a th:href="@{/}" class="btn btn-secondary">
          <span class="btn-icon">üè†</span>
          Torna alla Homepage
        </a>
      </p>
    </div>

    <div class="hero-image">
      <div class="floating-element element-1">‚úèÔ∏è</div>
      <div class="floating-element element-2">üìñ</div>
      <div class="floating-element element-3">‚≠ê</div>
      <div class="floating-element element-4">üìö</div>
    </div>
  </main>

  <footer class="footer">
    <p>SiwBooks - Biblioteca digitale</p>
  </footer>
</body>
</html>